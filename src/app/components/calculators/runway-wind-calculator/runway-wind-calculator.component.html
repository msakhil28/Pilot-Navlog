<div class="flex flex-col gap-6">
  <!-- Controls -->
  <div class="w-full">
    <h2 class="text-2xl font-semibold mb-4 text-[#e6edf3]">Runway Wind Visualizer</h2>

    <!-- Runway Slider -->
    <div class="mb-4">
      <label for="runway-slider" class="block text-sm font-medium text-[#7d8590] mb-1">Runway Heading: {{ runwayHeading() }}° (Rwy {{ runwayNumber() }})</label>
      <input type="range" id="runway-slider" min="10" max="360" step="10" [ngModel]="runwayHeading()" (ngModelChange)="runwayHeading.set(+$event)" class="w-full h-2 bg-[#0d1117] border border-[#30363d] rounded-lg appearance-none cursor-pointer accent-[#2f81f7]">
    </div>

    <!-- Wind Controls -->
    <div>
      <label for="wind-dir-slider" class="block text-sm font-medium text-[#7d8590] mb-1">Wind: {{ windDirection() }}° / {{ windSpeed() }} kts</label>
      <div class="flex items-center gap-4">
        <input type="range" id="wind-dir-slider" min="0" max="359" [ngModel]="windDirection()" (ngModelChange)="windDirection.set(+$event)" class="w-full h-2 bg-[#0d1117] border border-[#30363d] rounded-lg appearance-none cursor-pointer accent-[#2f81f7]" />
        <div class="flex items-center border border-[#30363d] rounded-md bg-[#0d1117]">
          <button (click)="decrementSpeed()" class="px-3 py-1 text-lg text-[#7d8590] hover:bg-[#30363d] rounded-l-md focus:outline-none focus:ring-2 focus:ring-[#2f81f7]">-</button>
          <button (click)="incrementSpeed()" class="px-3 py-1 text-lg text-[#7d8590] hover:bg-[#30363d] rounded-r-md border-l border-[#30363d] focus:outline-none focus:ring-2 focus:ring-[#2f81f7]">+</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Visualizer -->
  <div class="w-full flex justify-center items-center h-80 bg-[#0d1117] border border-[#30363d] rounded-lg p-4 overflow-hidden">
    <div class="relative w-64 h-64">
      <!-- Wind Arrow SVG (points from where the wind is coming) -->
      <div class="absolute inset-0 flex justify-center items-start" [style.transform]="'rotate(' + windDirection() + 'deg)'">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-24 text-blue-400 -mt-2" viewBox="0 0 24 60" fill="currentColor" style="transform: rotate(180deg);">
            <path d="M12 0L2.78 21h7.22v39h4V21h7.22L12 0z"/>
            </svg>
      </div>
      
      <!-- Runway Group (rotates) -->
      <div class="absolute inset-0" [style.transform]="'rotate(' + (runwayHeading() - 90) + 'deg)'">
        <div class="absolute inset-0 flex fle justify-center items-center flex-col">
          <div class="w-48 h-12 bg-gray-600 rounded-md shadow-lg flex justify-between items-center px-2">
            <span class="text-white font-bold text-lg -rotate-90">{{ runwayNumber() || '' }}</span>
            <div class="w-full h-1 border-t border-b border-dashed border-white"></div>
            <span class="text-white font-bold text-lg -rotate-90">{{ reciprocalRunwayNumber() || '' }}</span>
          </div>
              <svg [style.transform]="'rotate(' + (windDirection() + 180) + 'deg)'"
            >
            <path fill="#ff5511" 
              d="M 60.354 36.401 C 60.224 40.716 60.181 45.059 60.224 49.426 C 56.751 49.426 53.279 49.426 49.806 49.426 C 49.806 46.901 49.806 44.377 49.806 41.853 C 49.977 40.627 49.977 39.415 49.806 38.219 C 49.785 37.409 49.806 36.602 49.871 35.795 C 50.072 35.511 50.311 35.284 50.587 35.114 C 53.872 35.396 57.128 35.825 60.354 36.401 Z">
            </path>
            <path fill="#cccccc" 
              d="M 60.354 36.401 C 64.283 36.914 68.19 37.47 72.074 38.068 C 71.901 38.068 71.727 38.068 71.553 38.068 C 71.293 38.068 71.032 38.068 70.772 38.068 C 70.642 41.877 70.598 45.714 70.642 49.577 C 67.213 49.577 63.783 49.577 60.354 49.577 C 60.354 45.185 60.354 40.793 60.354 36.401 Z">
            </path>
            <path fill="#ff5511" 
              d="M 70.772 38.068 C 71.032 38.068 71.293 38.068 71.553 38.068 C 73.22 38.357 74.913 38.559 76.632 38.673 C 78.136 38.777 79.612 38.979 81.06 39.279 C 81.06 39.329 81.06 39.38 81.06 39.43 C 81.06 42.762 81.06 46.094 81.06 49.426 C 77.63 49.426 74.201 49.426 70.772 49.426 C 70.772 45.64 70.772 41.853 70.772 38.068 Z">
            </path>
            <path fill="#cccccc" 
              d="M 81.06 39.43 C 81.06 39.38 81.06 39.329 81.06 39.279 C 84.947 39.774 88.811 40.33 92.65 40.945 C 92.302 40.945 91.955 40.945 91.608 40.945 C 91.478 43.745 91.434 46.572 91.477 49.426 C 88.048 49.426 84.619 49.426 81.19 49.426 C 81.233 46.068 81.189 42.735 81.06 39.43 Z">
            </path>
            <path fill="#ff5511" 
              d="M 91.608 40.945 C 91.955 40.945 92.302 40.945 92.65 40.945 C 95.779 41.299 98.905 41.702 102.025 42.156 C 102.025 44.579 102.025 47.002 102.025 49.426 C 98.553 49.426 95.08 49.426 91.608 49.426 C 91.608 46.599 91.608 43.772 91.608 40.945 Z">
            </path>
            <path fill="#ee4411" 
              d="M 49.806 49.426 C 53.279 49.426 56.751 49.426 60.224 49.426 C 60.224 53.817 60.224 58.209 60.224 62.601 C 56.904 63.266 53.561 63.645 50.197 63.737 C 50.041 63.6 49.932 63.424 49.871 63.207 C 49.806 62.401 49.785 61.593 49.806 60.784 C 49.977 59.587 49.977 58.376 49.806 57.149 C 49.806 54.574 49.806 52 49.806 49.426 Z">
            </path>
            <path fill="#bbbbbb" 
              d="M 60.354 36.401 C 60.354 40.793 60.354 45.185 60.354 49.577 C 63.783 49.577 67.213 49.577 70.642 49.577 C 70.642 53.464 70.642 57.351 70.642 61.238 C 67.171 61.714 63.699 62.169 60.224 62.601 C 60.224 58.209 60.224 53.817 60.224 49.426 C 60.181 45.059 60.224 40.716 60.354 36.401 Z">
            </path>
            <path fill="#ee4411" 
              d="M 70.772 38.068 C 70.772 41.853 70.772 45.64 70.772 49.426 C 74.201 49.426 77.63 49.426 81.06 49.426 C 81.06 52.858 81.06 56.291 81.06 59.723 C 77.59 60.253 74.118 60.758 70.642 61.238 C 70.642 57.351 70.642 53.464 70.642 49.577 C 70.598 45.714 70.642 41.877 70.772 38.068 Z">
            </path>
            <path fill="#bbbbbb" 
              d="M 81.06 39.43 C 81.189 42.735 81.233 46.068 81.19 49.426 C 84.619 49.426 88.048 49.426 91.477 49.426 C 91.477 52.404 91.477 55.382 91.477 58.36 C 88.005 58.815 84.532 59.269 81.06 59.723 C 81.06 56.291 81.06 52.858 81.06 49.426 C 81.06 46.094 81.06 42.762 81.06 39.43 Z">
            </path>
            <path fill="#ee4411" 
              d="M 91.608 40.945 C 91.608 43.772 91.608 46.599 91.608 49.426 C 95.08 49.426 98.553 49.426 102.025 49.426 C 102.025 51.899 102.025 54.373 102.025 56.846 C 98.506 57.322 94.991 57.828 91.477 58.36 C 91.477 55.382 91.477 52.404 91.477 49.426 C 91.434 46.572 91.478 43.745 91.608 40.945 Z">
            </path>
            <g >
              <path fill="#444444"
                d="M 49.806 38.219 C 49.977 39.415 49.977 40.627 49.806 41.853 C 48.287 43.569 43.865 46.473 42.346 48.189 C 42.159 47.907 41.951 47.368 41.705 47.145 C 41.358 46.792 40.978 46.328 40.631 45.975 C 42.675 43.598 47.683 40.486 49.806 38.219 Z">
              </path>
              <path fill="#444444"
                d="M 42.116 50.783 C 43.635 52.499 48.287 55.433 49.806 57.149 C 49.977 58.376 49.977 59.587 49.806 60.784 C 47.77 58.618 42.267 55.101 40.31 52.824 C 40.31 52.723 41.639 51.439 42.116 50.783 Z">
              </path>
              <ellipse fill="#444444" cx="39.054" cy="49.625" rx="4.101" ry="4.805"></ellipse>
            </g>
          </svg>
        </div>
      </div>
       <!-- Windsock -->
      <div class="absolute  ">
        <!-- <div [style.transform]="'rotate(' + (windDirection() + 180) + 'deg)'" class="origin-center"> -->
         
        <!-- </div> -->
      </div>
    </div>
  </div>

  <!-- Results -->
  <div class="w-full bg-[#0d1117] border border-[#30363d] p-4 rounded-lg text-center space-y-2">
    <p class="text-lg"><span class="font-bold">Rwy {{ runwayNumber() }}</span>: {{ runway1Components().headwind.toFixed(0) }} kts {{ runway1Components().headwindType }}, {{ runway1Components().crosswind.toFixed(0) }} kts crosswind {{ runway1Components().crosswindDirection }}</p>
    <p class="text-lg"><span class="font-bold">Rwy {{ reciprocalRunwayNumber() }}</span>: {{ runway2Components().headwind.toFixed(0) }} kts {{ runway2Components().headwindType }}, {{ runway2Components().crosswind.toFixed(0) }} kts crosswind {{ runway2Components().crosswindDirection }}</p>
  </div>
</div>